## TCP/IP 4계층

장치들이 인터넷상에서 데이터르 주고 받을때 쓰는 독립적인 프로토콜

- Application
  - smtp,http/https,ftp,ssh
  - http,smtp,ssh,ftp가 대표적 웹서비스를 실질적으로 사용자에게 제공하는 층
- transport
  - udp,tcp
  - 애필리케이션계층에서 받은 메시지를 기바능로 세그먼트 또는 데이터그램으로 데이터를 쪼개고 데이터를 전달하도록 도움을 주는 층
- internet
  - ipv4/ipv6,icmp,arp
  - 전달받은 세그먼트 또는 데이터그램을 연결된 다른 노드로 전달하는 계층
- link
  - 전선,광섬유등 데이터를 물리적으로 전송



### 캡슐화 비캡슐화

네크워크에서 캡슐화란 송신자가 수신자에게 데이터를 보낼 때 데이터가 각계층을 지나면 각계층의 특징들이 담긴 헤더들이 붙혀지는 과정

- transport 게층에서는 TCP헤더
- 네트워크 게층에서는 IP주소 헤더

비캡슐화는 캡슐화의 역과정 수신자가 이렇게 만들어진 헤더를 역순으로 제거하면서 application계층까지

도달한다.

### PDU(protocol data unit)

이렇게 캡슐화된 데이터를 각계층마다 다르게 부른다

- 전송 계층:세그먼트(TCP), 데이터그램(UDP)
- 인터넷 계층: 패킷
- 링크 계층: 프레임(데이터 링크 계층), 비트(물리 계층)



세그먼트: 적절한 크기로 쪼갠 조각

패킷: 세그먼트에 SP와 DP가 포함된 IP헤더가 붙은 형태의 조각

프레임: MAC주소 ,CRC/체크섬트레일러가 붙은 조각



### application 계층

HTTP, SMTP, SSH, FTP가 대표적이며 웹 서비스, 이메일 등 서비스를 실질적으로 사람들에게 제공하는 층

#### HTTP

HTTP(Hypertext Transfer Protocol)은 처음에는 서버와 브라우저간에 데이터를 주고 받기 위해 설계된 프로토콜입니다. 지금은 브라우저 뿐만 아니라 서버와 서버간의 통신할 때도 많이 이용합니다.

1. 해더를 통한 확장이 쉽다. 
2. stateless하다.

#### SSH

보안되지 않은 네트워크에서 서비스를 안전하게 운영하기 위한 암호화 네크워크 프로토콜

### 전송 계층

TCP, UDP가 대표적이며 애플리케이션계층에서 받은 메시지를 기반으로 세그먼트 또는 데이터그램으로 데이터를 쪼개고 데이터가 오류없이 순서대로 전달되도록 도움을 주는 층

#### TCP

가상회선패킷교환방식

오류검사

1. 재전송: 타임아웃이 발생하면 재전송 시도
2. 체크섬: 체크섬을 통해 무결성 평가 송신된데이터와 수신된데이터의 체크섬을 비교하여 데이터가 올바르게 왔는지 확인

#### UDP

데이터그램패킷교환방식

오류검사는 체크섬만

#### TCP UDP 비교

